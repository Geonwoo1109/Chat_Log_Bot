const Fs = FileStream;

var Log = [];

function response(room, msg, sender, isGroupChat, replier, imageDB, packageName) {
var 날짜 = new Date();
var hour = 날짜.getHours();
var minutes = 날짜.getMinutes();
var seconds = 날짜.getSeconds();

var 시간 = (hour+":"+minutes+":"+seconds);
  
  try {
  if (room == "카톡봇 테스트방") {
    
    
    if (Log.length > 50) {
      Log.pop();
    } 
    Log.unshift(시간 + " " + sender + "님\n> " + msg + "\n");
   Fs.write("/sdcard/Test1/Test1", Log);
   //replier.reply (Fs.read ("/sdcard/Test1/Test1"));
    
    if (msg.startsWith(".로그 ")) {
      replier.reply  (Log [0] + Log [1]);
      replier.reply (시간);
      
      if (msg.substr(4) < Log.length) {
        replier.reply  ("1");
        for (i = 0; i < msg.substr(4); i++) {
          Fs.append("/sdcard/Test1/Test1", Log [i]);
          replier.reply  (i + 1 + "번째");
          
          replier.reply (Log [i]);
        }
        replier.reply (Fs.read ("/sdcard/Test1/Test1"));
      } else {
        replier.reply  ("2");
        for (i = 0; i < Log.length; i++) {
          replier.reply  (i);
          replier.reply (Fs.read ("/sdcard/Test1/Test1")[i]);
        }
      }
    }
    if (msg == ".리셋") {
      Fs.remove ("/sdcard/Test1/Test1");
    }
    
    
    
    
    
  }
  } catch  (e) {
    replier.reply (e);
  }
}
